{"ast":null,"code":"import \"core-js/modules/es.array.push.js\";\nimport { reactive, ref, onMounted } from 'vue';\nimport { useRouter } from 'vue-router';\nconst __default__ = {\n  name: 'LoginIndex'\n};\nexport default /*@__PURE__*/Object.assign(__default__, {\n  setup(__props, {\n    expose: __expose\n  }) {\n    __expose();\n    const router = useRouter();\n    const showPassword = ref(false);\n    const isDarkMode = ref(false);\n    const loginForm = reactive({\n      username: '',\n      password: '',\n      remember: false\n    });\n    const togglePassword = () => {\n      showPassword.value = !showPassword.value;\n    };\n    const handleLogin = async () => {\n      try {\n        const response = await fetch('http://localhost:3000/api/login', {\n          method: 'POST',\n          headers: {\n            'Content-Type': 'application/json'\n          },\n          body: JSON.stringify({\n            username: loginForm.username,\n            password: loginForm.password\n          })\n        });\n        const data = await response.json();\n        if (data.success) {\n          localStorage.setItem('userInfo', JSON.stringify({\n            username: loginForm.username // 使用登录表单中的用户名\n          }));\n          router.push('/home');\n        } else {\n          alert(data.message || '登录失败');\n        }\n      } catch (error) {\n        console.error('登录错误：', error);\n        alert('登录失败，请稍后重试');\n      }\n    };\n    const toggleTheme = () => {\n      isDarkMode.value = !isDarkMode.value;\n      document.body.classList.toggle('dark-mode');\n      localStorage.setItem('theme', isDarkMode.value ? 'dark' : 'light');\n    };\n    const toggleLang = () => {\n      console.log('切换语言');\n    };\n    onMounted(() => {\n      const savedTheme = localStorage.getItem('theme');\n      if (savedTheme === 'dark') {\n        isDarkMode.value = true;\n        document.body.classList.add('dark-mode');\n      }\n    });\n    const __returned__ = {\n      router,\n      showPassword,\n      isDarkMode,\n      loginForm,\n      togglePassword,\n      handleLogin,\n      toggleTheme,\n      toggleLang,\n      reactive,\n      ref,\n      onMounted,\n      get useRouter() {\n        return useRouter;\n      }\n    };\n    Object.defineProperty(__returned__, '__isScriptSetup', {\n      enumerable: false,\n      value: true\n    });\n    return __returned__;\n  }\n});","map":{"version":3,"names":["reactive","ref","onMounted","useRouter","__default__","name","router","showPassword","isDarkMode","loginForm","username","password","remember","togglePassword","value","handleLogin","response","fetch","method","headers","body","JSON","stringify","data","json","success","localStorage","setItem","push","alert","message","error","console","toggleTheme","document","classList","toggle","toggleLang","log","savedTheme","getItem","add"],"sources":["/Users/apple/IdeaProjects/AIreview/frontend/src/views/login/index.vue"],"sourcesContent":["<template>\n  <div class=\"login-container\">\n    <div class=\"login-box\">\n      <div class=\"header-icons\">\n        <svg \n          v-if=\"isDarkMode\"\n          viewBox=\"0 0 24 24\" \n          class=\"header-icon theme-icon\"\n          @click=\"toggleTheme\"\n        >\n          <path \n            fill=\"currentColor\" \n            d=\"M21.64,13a1,1,0,0,0-1.05-.14,8.05,8.05,0,0,1-3.37.73A8.15,8.15,0,0,1,9.08,5.49a8.59,8.59,0,0,1,.25-2A1,1,0,0,0,8,2.36,10.14,10.14,0,1,0,22,14.05,1,1,0,0,0,21.64,13Zm-9.5,6.69A8.14,8.14,0,0,1,7.08,5.22v.27A10.15,10.15,0,0,0,17.22,15.63a9.79,9.79,0,0,0,2.1-.22A8.11,8.11,0,0,1,12.14,19.73Z\"\n          />\n        </svg>\n        <svg \n          v-else\n          viewBox=\"0 0 24 24\" \n          class=\"header-icon theme-icon\"\n          @click=\"toggleTheme\"\n        >\n          <path \n            fill=\"currentColor\" \n            d=\"M12,7a5,5,0,1,0,5,5A5,5,0,0,0,12,7ZM12,15a3,3,0,1,1,3-3A3,3,0,0,1,12,15ZM11,5V3a1,1,0,0,1,2,0V5a1,1,0,0,1-2,0Zm0,16v-2a1,1,0,0,1,2,0v2a1,1,0,0,1-2,0ZM19.778,6.636a1,1,0,1,1,1.414-1.414l1.414,1.414a1,1,0,0,1-1.414,1.414ZM1.394,19.02l1.414-1.414a1,1,0,0,1,1.414,1.414L2.808,20.434a1,1,0,0,1-1.414-1.414ZM21,11h2a1,1,0,0,1,0,2H21a1,1,0,0,1,0-2ZM3,11H1a1,1,0,0,1,0-2H3a1,1,0,0,1,0,2Zm16.192,6.606-1.414-1.414a1,1,0,0,1,1.414-1.414l1.414,1.414a1,1,0,0,1-1.414,1.414ZM4.222,6.636,2.808,5.222A1,1,0,0,1,4.222,3.808L5.636,5.222A1,1,0,0,1,4.222,6.636Z\"\n          />\n        </svg>\n\n        <svg \n          viewBox=\"0 0 24 24\" \n          class=\"header-icon lang-icon\"\n          @click=\"toggleLang\"\n        >\n          <path \n            fill=\"currentColor\" \n            d=\"M12.87 15.07l-2.54-2.51.03-.03c1.74-1.94 2.98-4.17 3.71-6.53H17V4h-7V2H8v2H1v1.99h11.17C11.5 7.92 10.44 9.75 9 11.35 8.07 10.32 7.3 9.19 6.69 8h-2c.73 1.63 1.73 3.17 2.98 4.56l-5.09 5.02L4 19l5-5 3.11 3.11.76-2.04zM18.5 10h-2L12 22h2l1.12-3h4.75L21 22h2l-4.5-12zm-2.62 7l1.62-4.33L19.12 17h-3.24z\"\n          />\n        </svg>\n      </div>\n      \n      <div class=\"login-header\">\n        <img src=\"@/assets/logo.png\" alt=\"Logo\" class=\"logo\">\n        <h2>Soybean 管理系统</h2>\n      </div>\n      \n      <h3 class=\"login-title\">密码登录</h3>\n      \n      <form @submit.prevent=\"handleLogin\">\n        <div class=\"form-item\">\n          <input \n            type=\"text\" \n            v-model=\"loginForm.username\" \n            placeholder=\"Soybean\"\n            required\n          >\n        </div>\n        <div class=\"form-item\">\n          <input \n            :type=\"showPassword ? 'text' : 'password'\"\n            v-model=\"loginForm.password\" \n            placeholder=\"123456\"\n            required\n          >\n          <div class=\"password-suffix\" @click=\"togglePassword\">\n            <svg v-if=\"showPassword\" class=\"icon\" viewBox=\"0 0 1024 1024\" width=\"16\" height=\"16\">\n              <path d=\"M942.2 486.2C847.4 286.5 704.1 186 512 186c-192.2 0-335.4 100.5-430.2 300.3a60.3 60.3 0 0 0 0 51.5C176.6 737.5 319.9 838 512 838c192.2 0 335.4-100.5 430.2-300.3 7.7-16.2 7.7-35 0-51.5zM512 766c-161.3 0-279.4-81.8-362.7-254C232.6 339.8 350.7 258 512 258c161.3 0 279.4 81.8 362.7 254C791.5 684.2 673.4 766 512 766zm-4-430c-97.2 0-176 78.8-176 176s78.8 176 176 176 176-78.8 176-176-78.8-176-176-176zm0 288c-61.9 0-112-50.1-112-112s50.1-112 112-112 112 50.1 112 112-50.1 112-112 112z\" fill=\"currentColor\"/>\n            </svg>\n            <svg v-else class=\"icon\" viewBox=\"0 0 1024 1024\" width=\"16\" height=\"16\">\n              <path d=\"M942.2 486.2Q889.47 375.11 816.7 305l-50.88 50.88C807.31 395.53 843.45 447.4 874.7 512 791.5 684.2 673.4 766 512 766q-72.67 0-133.87-22.38L323 798.75Q408 838 512 838q192.2 0 335.4-100.5a60.29 60.29 0 0 0 94.8-51.5v-51.5zM878.63 165.56L836 122.88a8 8 0 0 0-11.32 0L715.31 232.2Q624.86 186 512 186q-192.2 0-335.4 100.5a60.3 60.3 0 0 0 0 51.5q56.69 119.4 136.5 191.41L209.77 633.1a8 8 0 0 0 0 11.31L252.4 687a8 8 0 0 0 11.31 0L878.63 176.88a8 8 0 0 0 0-11.32zM149.3 512C232.6 339.8 350.7 258 512 258c54.54 0 104.13 9.36 149.12 28.39l-70.3 70.3a176 176 0 0 0-238.13 238.13l-83.42 83.42C223.1 637.49 183.3 582.28 149.3 512zm246.7 0a112.11 112.11 0 0 1 146.2-106.69L401.31 546.2A112 112 0 0 1 396 512z\" fill=\"currentColor\"/>\n            </svg>\n          </div>\n        </div>\n        <div class=\"form-options\">\n          <label class=\"remember-pwd\">\n            <input \n              type=\"checkbox\" \n              v-model=\"loginForm.remember\"\n            > 记住我\n          </label>\n          <a @click=\"router.push('/login/reset-password')\" class=\"forget-pwd\">忘记密码？</a>\n        </div>\n        <button type=\"submit\">确认</button>\n      </form>\n\n      <div class=\"other-login\">\n        <div class=\"divider\">\n          <span>其他账号登录</span>\n        </div>\n        <div class=\"login-methods\">\n          <button @click=\"router.push('/login/phone')\" class=\"method-btn\">验证码登录</button>\n          <button @click=\"router.push('/register')\" class=\"method-btn\">注册账号</button>\n        </div>\n      </div>\n\n      <div class=\"other-accounts\">\n        其他账号登录\n        <div class=\"account-types\">\n          <div class=\"account-type\">超级管理员</div>\n          <div class=\"account-type\">管理员</div>\n          <div class=\"account-type\">普通用户</div>\n        </div>\n      </div>\n    </div>\n  </div>\n</template>\n\n<script>\nexport default {\n  name: 'LoginIndex'\n}\n</script>\n\n<script setup>\nimport { reactive, ref, onMounted } from 'vue'\nimport { useRouter } from 'vue-router'\n\nconst router = useRouter()\nconst showPassword = ref(false)\nconst isDarkMode = ref(false)\n\nconst loginForm = reactive({\n  username: '',\n  password: '',\n  remember: false\n})\n\nconst togglePassword = () => {\n  showPassword.value = !showPassword.value\n}\n\nconst handleLogin = async () => {\n  try {\n    const response = await fetch('http://localhost:3000/api/login', {\n      method: 'POST',\n      headers: {\n        'Content-Type': 'application/json'\n      },\n      body: JSON.stringify({\n        username: loginForm.username,\n        password: loginForm.password\n      })\n    })\n    \n    const data = await response.json()\n\n    if (data.success) {\n      localStorage.setItem('userInfo', JSON.stringify({\n        username: loginForm.username  // 使用登录表单中的用户名\n      }))\n      router.push('/home')\n    } else {\n      alert(data.message || '登录失败')\n    }\n  } catch (error) {\n    console.error('登录错误：', error)\n    alert('登录失败，请稍后重试')\n  }\n}\n\nconst toggleTheme = () => {\n  isDarkMode.value = !isDarkMode.value\n  document.body.classList.toggle('dark-mode')\n  localStorage.setItem('theme', isDarkMode.value ? 'dark' : 'light')\n}\n\nconst toggleLang = () => {\n  console.log('切换语言')\n}\n\nonMounted(() => {\n  const savedTheme = localStorage.getItem('theme')\n  if (savedTheme === 'dark') {\n    isDarkMode.value = true\n    document.body.classList.add('dark-mode')\n  }\n})\n</script>\n\n<style scoped>\n.header-icon {\n  width: 20px;\n  height: 20px;\n  color: #666;\n  cursor: pointer;\n  transition: all 0.3s ease;\n}\n\n.header-icon:hover {\n  color: #818cf8;\n}\n\n.theme-icon {\n  transition: transform 0.5s ease;\n}\n\n.theme-icon:hover {\n  transform: rotate(360deg);\n}\n\n.lang-icon:hover {\n  animation: bounce 0.5s ease;\n}\n\n@keyframes bounce {\n  0%, 100% {\n    transform: translateY(0);\n  }\n  50% {\n    transform: translateY(-3px);\n  }\n}\n</style> "],"mappings":";AAgHA,SAASA,QAAQ,EAAEC,GAAG,EAAEC,SAAS,QAAQ,KAAI;AAC7C,SAASC,SAAS,QAAQ,YAAW;AAPrC,MAAAC,WAAA,GAAe;EACbC,IAAI,EAAE;AACR;;;;;;IAOA,MAAMC,MAAM,GAAGH,SAAS,CAAC;IACzB,MAAMI,YAAY,GAAGN,GAAG,CAAC,KAAK;IAC9B,MAAMO,UAAU,GAAGP,GAAG,CAAC,KAAK;IAE5B,MAAMQ,SAAS,GAAGT,QAAQ,CAAC;MACzBU,QAAQ,EAAE,EAAE;MACZC,QAAQ,EAAE,EAAE;MACZC,QAAQ,EAAE;IACZ,CAAC;IAED,MAAMC,cAAc,GAAGA,CAAA,KAAM;MAC3BN,YAAY,CAACO,KAAK,GAAG,CAACP,YAAY,CAACO,KAAI;IACzC;IAEA,MAAMC,WAAW,GAAG,MAAAA,CAAA,KAAY;MAC9B,IAAI;QACF,MAAMC,QAAQ,GAAG,MAAMC,KAAK,CAAC,iCAAiC,EAAE;UAC9DC,MAAM,EAAE,MAAM;UACdC,OAAO,EAAE;YACP,cAAc,EAAE;UAClB,CAAC;UACDC,IAAI,EAAEC,IAAI,CAACC,SAAS,CAAC;YACnBZ,QAAQ,EAAED,SAAS,CAACC,QAAQ;YAC5BC,QAAQ,EAAEF,SAAS,CAACE;UACtB,CAAC;QACH,CAAC;QAED,MAAMY,IAAI,GAAG,MAAMP,QAAQ,CAACQ,IAAI,CAAC;QAEjC,IAAID,IAAI,CAACE,OAAO,EAAE;UAChBC,YAAY,CAACC,OAAO,CAAC,UAAU,EAAEN,IAAI,CAACC,SAAS,CAAC;YAC9CZ,QAAQ,EAAED,SAAS,CAACC,QAAQ,CAAE;UAChC,CAAC,CAAC;UACFJ,MAAM,CAACsB,IAAI,CAAC,OAAO;QACrB,CAAC,MAAM;UACLC,KAAK,CAACN,IAAI,CAACO,OAAO,IAAI,MAAM;QAC9B;MACF,CAAC,CAAC,OAAOC,KAAK,EAAE;QACdC,OAAO,CAACD,KAAK,CAAC,OAAO,EAAEA,KAAK;QAC5BF,KAAK,CAAC,YAAY;MACpB;IACF;IAEA,MAAMI,WAAW,GAAGA,CAAA,KAAM;MACxBzB,UAAU,CAACM,KAAK,GAAG,CAACN,UAAU,CAACM,KAAI;MACnCoB,QAAQ,CAACd,IAAI,CAACe,SAAS,CAACC,MAAM,CAAC,WAAW;MAC1CV,YAAY,CAACC,OAAO,CAAC,OAAO,EAAEnB,UAAU,CAACM,KAAK,GAAG,MAAM,GAAG,OAAO;IACnE;IAEA,MAAMuB,UAAU,GAAGA,CAAA,KAAM;MACvBL,OAAO,CAACM,GAAG,CAAC,MAAM;IACpB;IAEApC,SAAS,CAAC,MAAM;MACd,MAAMqC,UAAU,GAAGb,YAAY,CAACc,OAAO,CAAC,OAAO;MAC/C,IAAID,UAAU,KAAK,MAAM,EAAE;QACzB/B,UAAU,CAACM,KAAK,GAAG,IAAG;QACtBoB,QAAQ,CAACd,IAAI,CAACe,SAAS,CAACM,GAAG,CAAC,WAAW;MACzC;IACF,CAAC","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}