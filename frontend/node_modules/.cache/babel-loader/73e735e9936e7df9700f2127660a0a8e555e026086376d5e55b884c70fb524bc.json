{"ast":null,"code":"import \"core-js/modules/es.array.push.js\";\nimport { reactive, ref } from 'vue';\nimport { useRouter } from 'vue-router';\nconst __default__ = {\n  name: 'LoginRegister'\n};\nexport default /*@__PURE__*/Object.assign(__default__, {\n  setup(__props, {\n    expose: __expose\n  }) {\n    __expose();\n    const router = useRouter();\n    const showPassword = ref(false);\n    const registerForm = reactive({\n      username: '',\n      password: '',\n      confirmPassword: '',\n      phone: ''\n    });\n    const togglePassword = () => {\n      showPassword.value = !showPassword.value;\n    };\n    const handleRegister = async () => {\n      // 表单验证\n      if (registerForm.password !== registerForm.confirmPassword) {\n        alert('两次输入的密码不一致');\n        return;\n      }\n      if (registerForm.phone && !/^1[3-9]\\d{9}$/.test(registerForm.phone)) {\n        alert('请输入正确的手机号');\n        return;\n      }\n      try {\n        const response = await fetch('http://your-backend-url/api/register', {\n          method: 'POST',\n          headers: {\n            'Content-Type': 'application/json'\n          },\n          body: JSON.stringify({\n            username: registerForm.username,\n            password: registerForm.password,\n            phone: registerForm.phone || null\n          })\n        });\n        const data = await response.json();\n        if (data.success) {\n          alert('注册成功');\n          router.push('/login');\n        } else {\n          alert(data.message || '注册失败');\n        }\n      } catch (error) {\n        console.error('注册错误：', error);\n        alert('注册失败，请稍后重试');\n      }\n    };\n    const __returned__ = {\n      router,\n      showPassword,\n      registerForm,\n      togglePassword,\n      handleRegister,\n      reactive,\n      ref,\n      get useRouter() {\n        return useRouter;\n      }\n    };\n    Object.defineProperty(__returned__, '__isScriptSetup', {\n      enumerable: false,\n      value: true\n    });\n    return __returned__;\n  }\n});","map":{"version":3,"names":["reactive","ref","useRouter","__default__","name","router","showPassword","registerForm","username","password","confirmPassword","phone","togglePassword","value","handleRegister","alert","test","response","fetch","method","headers","body","JSON","stringify","data","json","success","push","message","error","console"],"sources":["/Users/apple/IdeaProjects/AIreview/frontend/src/views/login/register.vue"],"sourcesContent":["<template>\n  <div class=\"login-container\">\n    <div class=\"login-box\">\n      <div class=\"login-header\">\n        <img src=\"@/assets/logo.png\" alt=\"Logo\" class=\"logo\">\n        <h2>Soybean 管理系统</h2>\n      </div>\n      <h3 class=\"login-title\">注册账号</h3>\n      \n      <form @submit.prevent=\"handleRegister\">\n        <div class=\"form-item\">\n          <input \n            type=\"text\" \n            v-model=\"registerForm.username\" \n            placeholder=\"请输入用户名\"\n            required\n          >\n        </div>\n        <div class=\"form-item\">\n          <input \n            :type=\"showPassword ? 'text' : 'password'\"\n            v-model=\"registerForm.password\" \n            placeholder=\"请输入密码\"\n            required\n          >\n          <div class=\"password-suffix\" @click=\"togglePassword\">\n            <!-- 使用与登录页相同的密码显示/隐藏图标 -->\n          </div>\n        </div>\n        <div class=\"form-item\">\n          <input \n            :type=\"showPassword ? 'text' : 'password'\"\n            v-model=\"registerForm.confirmPassword\" \n            placeholder=\"请再次输入密码\"\n            required\n          >\n        </div>\n        <div class=\"form-item\">\n          <input \n            type=\"tel\" \n            v-model=\"registerForm.phone\" \n            placeholder=\"请输入手机号（选填）\"\n          >\n        </div>\n        <button type=\"submit\">注册</button>\n      </form>\n\n      <div class=\"back-btn\" @click=\"router.back()\">返回</div>\n    </div>\n  </div>\n</template>\n\n<script>\nexport default {\n  name: 'LoginRegister'\n}\n</script>\n\n<script setup>\nimport { reactive, ref } from 'vue'\nimport { useRouter } from 'vue-router'\n\nconst router = useRouter()\nconst showPassword = ref(false)\n\nconst registerForm = reactive({\n  username: '',\n  password: '',\n  confirmPassword: '',\n  phone: ''\n})\n\nconst togglePassword = () => {\n  showPassword.value = !showPassword.value\n}\n\nconst handleRegister = async () => {\n  // 表单验证\n  if (registerForm.password !== registerForm.confirmPassword) {\n    alert('两次输入的密码不一致')\n    return\n  }\n\n  if (registerForm.phone && !/^1[3-9]\\d{9}$/.test(registerForm.phone)) {\n    alert('请输入正确的手机号')\n    return\n  }\n\n  try {\n    const response = await fetch('http://your-backend-url/api/register', {\n      method: 'POST',\n      headers: {\n        'Content-Type': 'application/json'\n      },\n      body: JSON.stringify({\n        username: registerForm.username,\n        password: registerForm.password,\n        phone: registerForm.phone || null\n      })\n    })\n    \n    const data = await response.json()\n    if (data.success) {\n      alert('注册成功')\n      router.push('/login')\n    } else {\n      alert(data.message || '注册失败')\n    }\n  } catch (error) {\n    console.error('注册错误：', error)\n    alert('注册失败，请稍后重试')\n  }\n}\n</script>\n\n<style scoped>\n/* 复用 login.css 中的样式 */\n</style> "],"mappings":";AA2DA,SAASA,QAAQ,EAAEC,GAAG,QAAQ,KAAI;AAClC,SAASC,SAAS,QAAQ,YAAW;AAPrC,MAAAC,WAAA,GAAe;EACbC,IAAI,EAAE;AACR;;;;;;IAOA,MAAMC,MAAM,GAAGH,SAAS,CAAC;IACzB,MAAMI,YAAY,GAAGL,GAAG,CAAC,KAAK;IAE9B,MAAMM,YAAY,GAAGP,QAAQ,CAAC;MAC5BQ,QAAQ,EAAE,EAAE;MACZC,QAAQ,EAAE,EAAE;MACZC,eAAe,EAAE,EAAE;MACnBC,KAAK,EAAE;IACT,CAAC;IAED,MAAMC,cAAc,GAAGA,CAAA,KAAM;MAC3BN,YAAY,CAACO,KAAK,GAAG,CAACP,YAAY,CAACO,KAAI;IACzC;IAEA,MAAMC,cAAc,GAAG,MAAAA,CAAA,KAAY;MACjC;MACA,IAAIP,YAAY,CAACE,QAAQ,KAAKF,YAAY,CAACG,eAAe,EAAE;QAC1DK,KAAK,CAAC,YAAY;QAClB;MACF;MAEA,IAAIR,YAAY,CAACI,KAAK,IAAI,CAAC,eAAe,CAACK,IAAI,CAACT,YAAY,CAACI,KAAK,CAAC,EAAE;QACnEI,KAAK,CAAC,WAAW;QACjB;MACF;MAEA,IAAI;QACF,MAAME,QAAQ,GAAG,MAAMC,KAAK,CAAC,sCAAsC,EAAE;UACnEC,MAAM,EAAE,MAAM;UACdC,OAAO,EAAE;YACP,cAAc,EAAE;UAClB,CAAC;UACDC,IAAI,EAAEC,IAAI,CAACC,SAAS,CAAC;YACnBf,QAAQ,EAAED,YAAY,CAACC,QAAQ;YAC/BC,QAAQ,EAAEF,YAAY,CAACE,QAAQ;YAC/BE,KAAK,EAAEJ,YAAY,CAACI,KAAK,IAAI;UAC/B,CAAC;QACH,CAAC;QAED,MAAMa,IAAI,GAAG,MAAMP,QAAQ,CAACQ,IAAI,CAAC;QACjC,IAAID,IAAI,CAACE,OAAO,EAAE;UAChBX,KAAK,CAAC,MAAM;UACZV,MAAM,CAACsB,IAAI,CAAC,QAAQ;QACtB,CAAC,MAAM;UACLZ,KAAK,CAACS,IAAI,CAACI,OAAO,IAAI,MAAM;QAC9B;MACF,CAAC,CAAC,OAAOC,KAAK,EAAE;QACdC,OAAO,CAACD,KAAK,CAAC,OAAO,EAAEA,KAAK;QAC5Bd,KAAK,CAAC,YAAY;MACpB;IACF","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}