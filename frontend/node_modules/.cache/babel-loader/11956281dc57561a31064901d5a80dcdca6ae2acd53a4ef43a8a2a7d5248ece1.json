{"ast":null,"code":"import { createElementVNode as _createElementVNode, vModelText as _vModelText, withDirectives as _withDirectives, vModelDynamic as _vModelDynamic, createCommentVNode as _createCommentVNode, withModifiers as _withModifiers, openBlock as _openBlock, createElementBlock as _createElementBlock } from \"vue\";\nimport _imports_0 from '@/assets/logo.png';\nconst _hoisted_1 = {\n  class: \"login-container\"\n};\nconst _hoisted_2 = {\n  class: \"login-box\"\n};\nconst _hoisted_3 = {\n  class: \"form-item\"\n};\nconst _hoisted_4 = {\n  class: \"form-item\"\n};\nconst _hoisted_5 = [\"type\"];\nconst _hoisted_6 = {\n  class: \"form-item\"\n};\nconst _hoisted_7 = [\"type\"];\nconst _hoisted_8 = {\n  class: \"form-item\"\n};\nexport function render(_ctx, _cache, $props, $setup, $data, $options) {\n  return _openBlock(), _createElementBlock(\"div\", _hoisted_1, [_createElementVNode(\"div\", _hoisted_2, [_cache[6] || (_cache[6] = _createElementVNode(\"div\", {\n    class: \"login-header\"\n  }, [_createElementVNode(\"img\", {\n    src: _imports_0,\n    alt: \"Logo\",\n    class: \"logo\"\n  }), _createElementVNode(\"h2\", null, \"Soybean 管理系统\")], -1 /* HOISTED */)), _cache[7] || (_cache[7] = _createElementVNode(\"h3\", {\n    class: \"login-title\"\n  }, \"注册账号\", -1 /* HOISTED */)), _createElementVNode(\"form\", {\n    onSubmit: _withModifiers($setup.handleRegister, [\"prevent\"])\n  }, [_createElementVNode(\"div\", _hoisted_3, [_withDirectives(_createElementVNode(\"input\", {\n    type: \"text\",\n    \"onUpdate:modelValue\": _cache[0] || (_cache[0] = $event => $setup.registerForm.username = $event),\n    placeholder: \"请输入用户名\",\n    required: \"\"\n  }, null, 512 /* NEED_PATCH */), [[_vModelText, $setup.registerForm.username]])]), _createElementVNode(\"div\", _hoisted_4, [_withDirectives(_createElementVNode(\"input\", {\n    type: $setup.showPassword ? 'text' : 'password',\n    \"onUpdate:modelValue\": _cache[1] || (_cache[1] = $event => $setup.registerForm.password = $event),\n    placeholder: \"请输入密码\",\n    required: \"\"\n  }, null, 8 /* PROPS */, _hoisted_5), [[_vModelDynamic, $setup.registerForm.password]]), _createElementVNode(\"div\", {\n    class: \"password-suffix\",\n    onClick: $setup.togglePassword\n  }, [_createCommentVNode(\" 使用与登录页相同的密码显示/隐藏图标 \")])]), _createElementVNode(\"div\", _hoisted_6, [_withDirectives(_createElementVNode(\"input\", {\n    type: $setup.showPassword ? 'text' : 'password',\n    \"onUpdate:modelValue\": _cache[2] || (_cache[2] = $event => $setup.registerForm.confirmPassword = $event),\n    placeholder: \"请再次输入密码\",\n    required: \"\"\n  }, null, 8 /* PROPS */, _hoisted_7), [[_vModelDynamic, $setup.registerForm.confirmPassword]])]), _createElementVNode(\"div\", _hoisted_8, [_withDirectives(_createElementVNode(\"input\", {\n    type: \"tel\",\n    \"onUpdate:modelValue\": _cache[3] || (_cache[3] = $event => $setup.registerForm.phone = $event),\n    placeholder: \"请输入手机号（选填）\"\n  }, null, 512 /* NEED_PATCH */), [[_vModelText, $setup.registerForm.phone]])]), _cache[5] || (_cache[5] = _createElementVNode(\"button\", {\n    type: \"submit\"\n  }, \"注册\", -1 /* HOISTED */))], 32 /* NEED_HYDRATION */), _createElementVNode(\"div\", {\n    class: \"back-btn\",\n    onClick: _cache[4] || (_cache[4] = $event => $setup.router.back())\n  }, \"返回\")])]);\n}","map":{"version":3,"names":["_imports_0","class","_createElementBlock","_hoisted_1","_createElementVNode","_hoisted_2","src","alt","onSubmit","_withModifiers","$setup","handleRegister","_hoisted_3","type","_cache","$event","registerForm","username","placeholder","required","_hoisted_4","showPassword","password","_hoisted_5","onClick","togglePassword","_createCommentVNode","_hoisted_6","confirmPassword","_hoisted_7","_hoisted_8","phone","router","back"],"sources":["/Users/apple/IdeaProjects/AIreview/frontend/src/views/login/register.vue"],"sourcesContent":["<template>\n  <div class=\"login-container\">\n    <div class=\"login-box\">\n      <div class=\"login-header\">\n        <img src=\"@/assets/logo.png\" alt=\"Logo\" class=\"logo\">\n        <h2>Soybean 管理系统</h2>\n      </div>\n      <h3 class=\"login-title\">注册账号</h3>\n      \n      <form @submit.prevent=\"handleRegister\">\n        <div class=\"form-item\">\n          <input \n            type=\"text\" \n            v-model=\"registerForm.username\" \n            placeholder=\"请输入用户名\"\n            required\n          >\n        </div>\n        <div class=\"form-item\">\n          <input \n            :type=\"showPassword ? 'text' : 'password'\"\n            v-model=\"registerForm.password\" \n            placeholder=\"请输入密码\"\n            required\n          >\n          <div class=\"password-suffix\" @click=\"togglePassword\">\n            <!-- 使用与登录页相同的密码显示/隐藏图标 -->\n          </div>\n        </div>\n        <div class=\"form-item\">\n          <input \n            :type=\"showPassword ? 'text' : 'password'\"\n            v-model=\"registerForm.confirmPassword\" \n            placeholder=\"请再次输入密码\"\n            required\n          >\n        </div>\n        <div class=\"form-item\">\n          <input \n            type=\"tel\" \n            v-model=\"registerForm.phone\" \n            placeholder=\"请输入手机号（选填）\"\n          >\n        </div>\n        <button type=\"submit\">注册</button>\n      </form>\n\n      <div class=\"back-btn\" @click=\"router.back()\">返回</div>\n    </div>\n  </div>\n</template>\n\n<script>\nexport default {\n  name: 'LoginRegister'\n}\n</script>\n\n<script setup>\nimport { reactive, ref } from 'vue'\nimport { useRouter } from 'vue-router'\n\nconst router = useRouter()\nconst showPassword = ref(false)\n\nconst registerForm = reactive({\n  username: '',\n  password: '',\n  confirmPassword: '',\n  phone: ''\n})\n\nconst togglePassword = () => {\n  showPassword.value = !showPassword.value\n}\n\nconst handleRegister = async () => {\n  // 表单验证\n  if (registerForm.password !== registerForm.confirmPassword) {\n    alert('两次输入的密码不一致')\n    return\n  }\n\n  if (registerForm.phone && !/^1[3-9]\\d{9}$/.test(registerForm.phone)) {\n    alert('请输入正确的手机号')\n    return\n  }\n\n  try {\n    const response = await fetch('http://your-backend-url/api/register', {\n      method: 'POST',\n      headers: {\n        'Content-Type': 'application/json'\n      },\n      body: JSON.stringify({\n        username: registerForm.username,\n        password: registerForm.password,\n        phone: registerForm.phone || null\n      })\n    })\n    \n    const data = await response.json()\n    if (data.success) {\n      alert('注册成功')\n      router.push('/login')\n    } else {\n      alert(data.message || '注册失败')\n    }\n  } catch (error) {\n    console.error('注册错误：', error)\n    alert('注册失败，请稍后重试')\n  }\n}\n</script>\n\n<style scoped>\n/* 复用 login.css 中的样式 */\n</style> "],"mappings":";OAIaA,UAAuB;;EAH7BC,KAAK,EAAC;AAAiB;;EACrBA,KAAK,EAAC;AAAW;;EAQbA,KAAK,EAAC;AAAW;;EAQjBA,KAAK,EAAC;AAAW;mBAlB9B;;EA6BaA,KAAK,EAAC;AAAW;mBA7B9B;;EAqCaA,KAAK,EAAC;AAAW;;uBApC5BC,mBAAA,CAgDM,OAhDNC,UAgDM,GA/CJC,mBAAA,CA8CM,OA9CNC,UA8CM,G,0BA7CJD,mBAAA,CAGM;IAHDH,KAAK,EAAC;EAAc,IACvBG,mBAAA,CAAqD;IAAhDE,GAAuB,EAAvBN,UAAuB;IAACO,GAAG,EAAC,MAAM;IAACN,KAAK,EAAC;MAC9CG,mBAAA,CAAqB,YAAjB,cAAY,E,gDAElBA,mBAAA,CAAiC;IAA7BH,KAAK,EAAC;EAAa,GAAC,MAAI,sBAE5BG,mBAAA,CAoCO;IApCAI,QAAM,EATnBC,cAAA,CAS6BC,MAAA,CAAAC,cAAc;MACnCP,mBAAA,CAOM,OAPNQ,UAOM,G,gBANJR,mBAAA,CAKC;IAJCS,IAAI,EAAC,MAAM;IAZvB,uBAAAC,MAAA,QAAAA,MAAA,MAAAC,MAAA,IAaqBL,MAAA,CAAAM,YAAY,CAACC,QAAQ,GAAAF,MAAA;IAC9BG,WAAW,EAAC,QAAQ;IACpBC,QAAQ,EAAR;iDAFST,MAAA,CAAAM,YAAY,CAACC,QAAQ,E,KAKlCb,mBAAA,CAUM,OAVNgB,UAUM,G,gBATJhB,mBAAA,CAKC;IAJES,IAAI,EAAEH,MAAA,CAAAW,YAAY;IApB/B,uBAAAP,MAAA,QAAAA,MAAA,MAAAC,MAAA,IAqBqBL,MAAA,CAAAM,YAAY,CAACM,QAAQ,GAAAP,MAAA;IAC9BG,WAAW,EAAC,OAAO;IACnBC,QAAQ,EAAR;0BAvBZI,UAAA,I,iBAqBqBb,MAAA,CAAAM,YAAY,CAACM,QAAQ,E,GAIhClB,mBAAA,CAEM;IAFDH,KAAK,EAAC,iBAAiB;IAAEuB,OAAK,EAAEd,MAAA,CAAAe;MACnCC,mBAAA,wBAA2B,C,KAG/BtB,mBAAA,CAOM,OAPNuB,UAOM,G,gBANJvB,mBAAA,CAKC;IAJES,IAAI,EAAEH,MAAA,CAAAW,YAAY;IA/B/B,uBAAAP,MAAA,QAAAA,MAAA,MAAAC,MAAA,IAgCqBL,MAAA,CAAAM,YAAY,CAACY,eAAe,GAAAb,MAAA;IACrCG,WAAW,EAAC,SAAS;IACrBC,QAAQ,EAAR;0BAlCZU,UAAA,I,iBAgCqBnB,MAAA,CAAAM,YAAY,CAACY,eAAe,E,KAKzCxB,mBAAA,CAMM,OANN0B,UAMM,G,gBALJ1B,mBAAA,CAIC;IAHCS,IAAI,EAAC,KAAK;IAvCtB,uBAAAC,MAAA,QAAAA,MAAA,MAAAC,MAAA,IAwCqBL,MAAA,CAAAM,YAAY,CAACe,KAAK,GAAAhB,MAAA;IAC3BG,WAAW,EAAC;iDADHR,MAAA,CAAAM,YAAY,CAACe,KAAK,E,+BAI/B3B,mBAAA,CAAiC;IAAzBS,IAAI,EAAC;EAAQ,GAAC,IAAE,qB,4BAG1BT,mBAAA,CAAqD;IAAhDH,KAAK,EAAC,UAAU;IAAEuB,OAAK,EAAAV,MAAA,QAAAA,MAAA,MAAAC,MAAA,IAAEL,MAAA,CAAAsB,MAAM,CAACC,IAAI;KAAI,IAAE,E","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}