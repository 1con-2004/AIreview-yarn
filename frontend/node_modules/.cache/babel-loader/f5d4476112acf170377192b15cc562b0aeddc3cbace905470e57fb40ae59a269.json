{"ast":null,"code":"import { createElementVNode as _createElementVNode, vModelText as _vModelText, withDirectives as _withDirectives, toDisplayString as _toDisplayString, withModifiers as _withModifiers, openBlock as _openBlock, createElementBlock as _createElementBlock } from \"vue\";\nimport _imports_0 from '@/assets/logo.png';\nconst _hoisted_1 = {\n  class: \"login-container\"\n};\nconst _hoisted_2 = {\n  class: \"login-box\"\n};\nconst _hoisted_3 = {\n  class: \"form-item\"\n};\nconst _hoisted_4 = {\n  class: \"form-item verification-code\"\n};\nconst _hoisted_5 = [\"disabled\"];\nexport function render(_ctx, _cache, $props, $setup, $data, $options) {\n  return _openBlock(), _createElementBlock(\"div\", _hoisted_1, [_createElementVNode(\"div\", _hoisted_2, [_cache[4] || (_cache[4] = _createElementVNode(\"div\", {\n    class: \"login-header\"\n  }, [_createElementVNode(\"img\", {\n    src: _imports_0,\n    alt: \"Logo\",\n    class: \"logo\"\n  }), _createElementVNode(\"h2\", null, \"Soybean 管理系统\")], -1 /* HOISTED */)), _cache[5] || (_cache[5] = _createElementVNode(\"h3\", {\n    class: \"login-title\"\n  }, \"验证码登录\", -1 /* HOISTED */)), _createElementVNode(\"form\", {\n    onSubmit: _withModifiers($setup.handlePhoneLogin, [\"prevent\"])\n  }, [_createElementVNode(\"div\", _hoisted_3, [_withDirectives(_createElementVNode(\"input\", {\n    type: \"tel\",\n    \"onUpdate:modelValue\": _cache[0] || (_cache[0] = $event => $setup.phoneForm.phone = $event),\n    placeholder: \"请输入手机号\",\n    required: \"\"\n  }, null, 512 /* NEED_PATCH */), [[_vModelText, $setup.phoneForm.phone]])]), _createElementVNode(\"div\", _hoisted_4, [_withDirectives(_createElementVNode(\"input\", {\n    type: \"text\",\n    \"onUpdate:modelValue\": _cache[1] || (_cache[1] = $event => $setup.phoneForm.code = $event),\n    placeholder: \"请输入验证码\",\n    required: \"\"\n  }, null, 512 /* NEED_PATCH */), [[_vModelText, $setup.phoneForm.code]]), _createElementVNode(\"button\", {\n    type: \"button\",\n    class: \"send-code-btn\",\n    disabled: $setup.countdown > 0,\n    onClick: $setup.sendVerificationCode\n  }, _toDisplayString($setup.countdown > 0 ? `${$setup.countdown}秒后重试` : '获取验证码'), 9 /* TEXT, PROPS */, _hoisted_5)]), _cache[3] || (_cache[3] = _createElementVNode(\"button\", {\n    type: \"submit\"\n  }, \"确认\", -1 /* HOISTED */))], 32 /* NEED_HYDRATION */), _createElementVNode(\"div\", {\n    class: \"back-btn\",\n    onClick: _cache[2] || (_cache[2] = $event => $setup.router.back())\n  }, \"返回\")])]);\n}","map":{"version":3,"names":["_imports_0","class","_createElementBlock","_hoisted_1","_createElementVNode","_hoisted_2","src","alt","onSubmit","_withModifiers","$setup","handlePhoneLogin","_hoisted_3","type","_cache","$event","phoneForm","phone","placeholder","required","_hoisted_4","code","disabled","countdown","onClick","sendVerificationCode","_hoisted_5","router","back"],"sources":["/Users/apple/IdeaProjects/AIreview/frontend/src/views/login/phone.vue"],"sourcesContent":["<template>\n  <div class=\"login-container\">\n    <div class=\"login-box\">\n      <div class=\"login-header\">\n        <img src=\"@/assets/logo.png\" alt=\"Logo\" class=\"logo\">\n        <h2>Soybean 管理系统</h2>\n      </div>\n      <h3 class=\"login-title\">验证码登录</h3>\n      \n      <form @submit.prevent=\"handlePhoneLogin\">\n        <div class=\"form-item\">\n          <input \n            type=\"tel\" \n            v-model=\"phoneForm.phone\" \n            placeholder=\"请输入手机号\"\n            required\n          >\n        </div>\n        <div class=\"form-item verification-code\">\n          <input \n            type=\"text\" \n            v-model=\"phoneForm.code\" \n            placeholder=\"请输入验证码\"\n            required\n          >\n          <button \n            type=\"button\" \n            class=\"send-code-btn\" \n            :disabled=\"countdown > 0\"\n            @click=\"sendVerificationCode\"\n          >\n            {{ countdown > 0 ? `${countdown}秒后重试` : '获取验证码' }}\n          </button>\n        </div>\n        <button type=\"submit\">确认</button>\n      </form>\n\n      <div class=\"back-btn\" @click=\"router.back()\">返回</div>\n    </div>\n  </div>\n</template>\n\n<script>\nexport default {\n  name: 'LoginPhone'\n}\n</script>\n\n<script setup>\nimport { reactive, ref } from 'vue'\nimport { useRouter } from 'vue-router'\n\nconst router = useRouter()\nconst countdown = ref(0)\nconst phoneForm = reactive({\n  phone: '',\n  code: ''\n})\n\n// 发送验证码逻辑\nconst sendVerificationCode = async () => {\n  // 验证手机号\n  if (!/^1[3-9]\\d{9}$/.test(phoneForm.phone)) {\n    alert('请输入正确的手机号')\n    return\n  }\n  \n  try {\n    // 调用发送验证码接口\n    countdown.value = 60\n    const timer = setInterval(() => {\n      countdown.value--\n      if (countdown.value <= 0) {\n        clearInterval(timer)\n      }\n    }, 1000)\n  } catch (error) {\n    console.error('发送验证码失败：', error)\n  }\n}\n\nconst handlePhoneLogin = async () => {\n  // 手机号登录逻辑\n}\n</script>\n\n<style scoped>\n/* 复用 App.vue 中的基础样式 */\n.verification-code {\n  position: relative;\n}\n\n.send-code-btn {\n  position: absolute;\n  right: 0;\n  top: 0;\n  width: auto;\n  height: 100%;\n  padding: 0 12px;\n  background: transparent;\n  color: #818cf8;\n  font-size: 14px;\n  border-left: 1px solid #e5e7eb;\n}\n\n.send-code-btn:disabled {\n  color: #9ca3af;\n  cursor: not-allowed;\n}\n\n.back-btn {\n  text-align: center;\n  color: #666;\n  cursor: pointer;\n  font-size: 14px;\n  margin-top: 16px;\n}\n\n.back-btn:hover {\n  color: #818cf8;\n}\n</style> "],"mappings":";OAIaA,UAAuB;;EAH7BC,KAAK,EAAC;AAAiB;;EACrBA,KAAK,EAAC;AAAW;;EAQbA,KAAK,EAAC;AAAW;;EAQjBA,KAAK,EAAC;AAA6B;mBAlBhD;;uBACEC,mBAAA,CAsCM,OAtCNC,UAsCM,GArCJC,mBAAA,CAoCM,OApCNC,UAoCM,G,0BAnCJD,mBAAA,CAGM;IAHDH,KAAK,EAAC;EAAc,IACvBG,mBAAA,CAAqD;IAAhDE,GAAuB,EAAvBN,UAAuB;IAACO,GAAG,EAAC,MAAM;IAACN,KAAK,EAAC;MAC9CG,mBAAA,CAAqB,YAAjB,cAAY,E,gDAElBA,mBAAA,CAAkC;IAA9BH,KAAK,EAAC;EAAa,GAAC,OAAK,sBAE7BG,mBAAA,CA0BO;IA1BAI,QAAM,EATnBC,cAAA,CAS6BC,MAAA,CAAAC,gBAAgB;MACrCP,mBAAA,CAOM,OAPNQ,UAOM,G,gBANJR,mBAAA,CAKC;IAJCS,IAAI,EAAC,KAAK;IAZtB,uBAAAC,MAAA,QAAAA,MAAA,MAAAC,MAAA,IAaqBL,MAAA,CAAAM,SAAS,CAACC,KAAK,GAAAF,MAAA;IACxBG,WAAW,EAAC,QAAQ;IACpBC,QAAQ,EAAR;iDAFST,MAAA,CAAAM,SAAS,CAACC,KAAK,E,KAK5Bb,mBAAA,CAeM,OAfNgB,UAeM,G,gBAdJhB,mBAAA,CAKC;IAJCS,IAAI,EAAC,MAAM;IApBvB,uBAAAC,MAAA,QAAAA,MAAA,MAAAC,MAAA,IAqBqBL,MAAA,CAAAM,SAAS,CAACK,IAAI,GAAAN,MAAA;IACvBG,WAAW,EAAC,QAAQ;IACpBC,QAAQ,EAAR;iDAFST,MAAA,CAAAM,SAAS,CAACK,IAAI,E,GAIzBjB,mBAAA,CAOS;IANPS,IAAI,EAAC,QAAQ;IACbZ,KAAK,EAAC,eAAe;IACpBqB,QAAQ,EAAEZ,MAAA,CAAAa,SAAS;IACnBC,OAAK,EAAEd,MAAA,CAAAe;sBAELf,MAAA,CAAAa,SAAS,UAAUb,MAAA,CAAAa,SAAS,wCA/B3CG,UAAA,E,6BAkCQtB,mBAAA,CAAiC;IAAzBS,IAAI,EAAC;EAAQ,GAAC,IAAE,qB,4BAG1BT,mBAAA,CAAqD;IAAhDH,KAAK,EAAC,UAAU;IAAEuB,OAAK,EAAAV,MAAA,QAAAA,MAAA,MAAAC,MAAA,IAAEL,MAAA,CAAAiB,MAAM,CAACC,IAAI;KAAI,IAAE,E","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}